<Page x:Class="Pro.Client.Views.PaymentConfirmationPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Confirm Payment"
      Background="#F8FAFC"
      Loaded="PaymentConfirmationPage_Loaded">
    <Grid Background="#F8FAFC">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <Grid Margin="24" MaxWidth="900" HorizontalAlignment="Center">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,16">
                    <TextBlock Text="Confirm your payment" FontSize="24" FontWeight="Bold"/>
                </StackPanel>

                <Border Grid.Row="1" Background="White" BorderBrush="#E7EDF4" BorderThickness="1" CornerRadius="12" Padding="20">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="0,0,12,0">
                            <TextBlock Text="Order summary" FontWeight="Bold" FontSize="16" Margin="0,0,0,8"/>
                            <StackPanel>
                                <TextBlock x:Name="BookingDatesText" FontSize="14" Margin="0,8,0,0"/>
                                <TextBlock x:Name="OrderIdText"   Margin="0,2,0,0"/>
                                <TextBlock x:Name="UserText"      Margin="0,2,0,0"/>
                                <TextBlock x:Name="EmailText"     Margin="0,2,0,0"/>
                                <TextBlock x:Name="CreatedText"   Margin="0,2,0,0"/>
                            </StackPanel>

                            <Separator Margin="0,12,0,12"/>

                            <TextBlock Text="Items" FontWeight="Bold" Margin="0,0,0,8"/>
                            <ItemsControl x:Name="ItemsList">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel LastChildFill="True" Margin="0,2,0,2">
                                            <TextBlock Text="•" Width="16"/>
                                            <TextBlock Text="{Binding}" />
                                        </DockPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <Separator Margin="0,12,0,12"/>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <TextBlock Text="Total: " FontWeight="Bold" FontSize="16" VerticalAlignment="Center"/>
                                <TextBlock x:Name="TotalText" FontWeight="Bold" FontSize="16" Margin="6,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel Grid.Column="1" >
                            <TextBlock Text="Payment" FontWeight="Bold" FontSize="16" Margin="0,0,0,8"/>
                            <StackPanel Margin="0,0,0,8">
                                <TextBlock Text="Method" />
                                <ComboBox x:Name="MethodBox" Height="32" SelectionChanged="MethodBox_SelectionChanged" Margin="0,4,0,0">
                                    <ComboBoxItem Content="Card"/>
                                    <ComboBoxItem Content="BLIK"/>
                                    <ComboBoxItem Content="Cash"/>
                                </ComboBox>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,8">
                                <TextBlock Text="Resulting status" />
                                <TextBlock x:Name="StatusPreview" FontWeight="Bold" Margin="0,4,0,0"/>
                            </StackPanel>

                            <CheckBox x:Name="AgreeBox" Content="I confirm the amount and agree to the terms."
                                      Margin="0,8,0,12" Checked="AgreeBox_Changed" Unchecked="AgreeBox_Changed"/>

                            <TextBlock x:Name="ErrorText" Foreground="Tomato" Visibility="Collapsed" Margin="0,0,0,8"/>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
                                <Button Content="Cancel" Click="Cancel_Click"
                                        Background="#E7EDF4" Foreground="#0D141C" Padding="16,6" Margin="0,0,8,0"/>
                                <Button x:Name="ConfirmBtn" Content="Confirm payment" Click="Confirm_Click"
                                        Background="#0B80F4" Foreground="White"  IsEnabled="False"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </ScrollViewer>
    </Grid>
</Page>
